<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, maximum-scale=1" />
  <title>멀티캠퍼스 러너 v21 (실행 오류 수정 • 스폰 20%↑ • 속도 상향)</title>
  <style>
    :root{ --bg:#ffffff; --fg:#111827; --muted:#6b7280; --panel:#f8fafc; --line:#e5e7eb; --accent:#ff7a00; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{ margin:0; background:var(--bg); color:var(--fg);
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Noto Sans KR,"Apple Color Emoji","Segoe UI Emoji","Noto Color Emoji",sans-serif;
      -webkit-tap-highlight-color: transparent;
      padding-left: env(safe-area-inset-left); padding-right: env(safe-area-inset-right);
      padding-top: env(safe-area-inset-top); padding-bottom: env(safe-area-inset-bottom); }
    .wrap{ min-height:100vh; min-height:100svh; max-width:960px; margin:0 auto; display:flex; flex-direction:column; gap:6px; padding:8px; }
    header{ display:flex; justify-content:space-between; align-items:center; gap:10px; }

    /* ▼ 로고 스타일 변경 */
    .logo{
      display:inline-flex; align-items:center; gap:8px;
      text-decoration:none; line-height:1;
    }
    .logo img{
      height:clamp(20px, 3.2vw, 28px); /* 반응형 크기 */
      width:auto; object-fit:contain; display:block;
      image-rendering:-webkit-optimize-contrast; /* 레티나 선명도 힌트 */
    }

    .hud{ display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:6px; width:100%; }
    .pill{ background:var(--panel); border:1px solid var(--line); border-radius:12px;
      padding:6px 8px; font-size:clamp(10px, 1.8vw, 13px); line-height:1;
      display:flex; align-items:center; justify-content:center; gap:6px; min-height:36px; white-space:nowrap; }
    .pill b{ font-variant-numeric: tabular-nums; }
    .pill.column{ flex-direction:column; gap:4px; padding:6px 8px; }
    .life-icons{ font-size:clamp(12px, 2.2vw, 16px); line-height:1; }
    .toolbar{ display:flex; align-items:center; gap:6px; flex-wrap:nowrap; justify-content:flex-start; }
    .btn, .icon-btn{ --h:34px; --px:10px; border:1px solid var(--line); background:#fff; color:#111827;
      padding:0 var(--px); border-radius:10px; font-weight:800; cursor:pointer;
      transition:transform .05s ease, background .2s ease;
      font-size:clamp(10px, 1.8vw, 12px);
      touch-action:manipulation; height:var(--h); display:inline-flex; align-items:center; justify-content:center; min-width:86px; }
    .btn:active{ transform:scale(.98); }
    .icon-btn{ min-width:40px; width:40px; padding:0; font-size:16px; }
    #gamePanel{ width:100%; margin:0 auto; border:1px solid var(--line); border-radius:14px; overflow:hidden; background:#fff; box-shadow:0 6px 30px rgba(0,0,0,.06); display:flex; flex-direction:column; }
    #gameToolbar{ padding:6px; background:var(--bg); }
    canvas#game{ display:block; width:100%; height:auto; touch-action:none; background:linear-gradient(#f8fafc,#ffffff 45%); }
    .notice{ font-size:clamp(10px, 1.6vw, 12px); color:#6b7280; }
    footer{ font-size:clamp(10px, 1.6vw, 12px); color:#6b7280; padding:6px 0 10px; text-align:center; }
    dialog{ border:none; border-radius:14px; padding:0; background:#fff; color:#111827; width:min(96vw, 820px); box-shadow:0 22px 60px rgba(0,0,0,.2); }
    .modal{ padding:16px; }
    .modal h2{ margin:4px 0 10px; font-size:clamp(16px, 2.6vw, 18px); }
    .modal p{ margin:6px 0; color:#374151; font-size:clamp(12px, 2.2vw, 14px); line-height:1.5; }
    .modal .actions{ display:flex; gap:8px; justify-content:flex-end; margin-top:14px; }
    .char-grid{ display:grid; grid-template-columns: repeat(5, 1fr); gap:10px; margin:8px 0 4px; }
    .char{ border:1px solid var(--line); border-radius:12px; padding:12px 6px; text-align:center; user-select:none; cursor:pointer; background:#fff;
      transition:border-color .15s ease, background .15s ease, transform .05s ease; }
    .char:active{ transform:scale(.98); }
    .char.sel{ border-color:#ff7a00; background:#fff7ed; }
    .char .emo{ font-size:32px; line-height:1; display:block; }
    .levels{ display:grid; grid-template-columns: repeat(3, 1fr); gap:8px; margin:8px 0 2px; }
    .level{ height:40px; padding:0 8px; border-radius:10px; border:1px solid var(--line); background:#fff; cursor:pointer; user-select:none;
      display:flex; align-items:center; justify-content:center; font-weight:800; font-size:14px; letter-spacing:.2px; }
    .level.sel{ border-color:#ff7a00; background:#fff7ed; }
  </style>
</head>
<body>
  <div class="wrap" id="wrapRoot">
    <header id="appHeader">
      <!-- ▼ 텍스트 로고 → 이미지 링크 로고 -->
      <a class="logo" href="https://www.multicampus.com" target="_blank" rel="noopener">
        <img
          src="https://api.multicampus.com/ssf/v1/resource/public/images/FILBS202506207041267"
          alt="Multicampus" fetchpriority="high" decoding="async" />
      </a>

      <div class="hud">
        <div class="pill">점수 <b id="scoreTxt">0</b></div>
        <div class="pill">최고 <b id="bestTxt">0</b></div>
        <div class="pill">단계 <b id="stageTxt">1</b></div>
        <div class="pill column"><div>라이프</div><div class="life-icons" id="lifeTxt">♥♥♥</div></div>
      </div>
    </header>

    <div id="gamePanel">
      <div id="gameToolbar" class="toolbar">
        <div class="row">
          <button class="btn" id="playBtn">시작</button>
          <button class="btn" id="soundBtn">사운드</button>
          <button class="btn icon-btn" id="fsBtn" title="전체화면" aria-label="전체화면">⛶</button>
        </div>
      </div>
      <canvas id="game" width="600" height="960"></canvas>
    </div>

    <div class="notice" id="appNotice">
      모바일: 화면 탭=점프(즉시), 길게=조금 더 높이 / 공중에서 다시 탭=2단 점프(충돌 시 1회 추가) · 데스크톱: Space/↑ 점프
    </div>

    <footer id="appFooter">© 2025 Multicampus demo. v21</footer>
  </div>

  <!-- 이하 스크립트는 기존과 동일 -->
  <script>
  /* … 기존 JS 전체 그대로 … (사용자 제공 v21 스크립트) … */
  </script>
</body>
</html>